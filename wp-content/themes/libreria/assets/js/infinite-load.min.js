!function(d){if("undefined"!=typeof libreriaInfiniteLoadParams){let a=libreriaInfiniteLoadParams,r=parseInt(a.infiniteTotal),t=parseInt(a.infiniteCount),o=a.ajaxUrl,l=a.infiniteNonce,i=a.pagination,s=!0,n=a.infiniteLoadEvent,c=a.allPostsLoadedMessage;switch("infinite-load"===i&&d(".woocommerce-pagination").hide(),n){case"button":d(document).on("click",".libreria-load-more",function(i){if(i.preventDefault(),t&&r){if(t>r)return!1;u(t),t++}});break;case"scroll":if(0<d("#primary .products").find("li:last").length){if(t>r)return;e=".libreria-infinite-pagination",f=function(i){i.isIntersecting&&s&&(u(t),t++,s=!1)},new IntersectionObserver(function(i){i.forEach(function(i){f(i)})},{}).observe(document.querySelector(e))}}var e,f;function u(i){let n={action:"libreria_infinite_load",page_no:i,nonce:l,query_vars:a.queryVars},e=d(".libreria-load-more");e.addClass("loading"),d.post(o,n,function(i){i=d(i);e.removeClass("loading"),d("#primary > .products").append(i),t>r&&(e.addClass("libreria-no-more-product"),e.html('<span class="libreria-no-more-product-text">'+c+"</span>")),s=!0})}}}(jQuery);